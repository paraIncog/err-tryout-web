import{n as N,o as S,p as T,a as C,g as x,f as g,u as M,i as y,j as P,q as b,d as w,m as I,C as k,T as U,t as $,w as B}from"./createSimplePaletteValueFilter-Cf9SvP4l.js";import{a as f,o as d,q as E}from"./chunk-D4RADZKF-yoc3-3G9.js";import{e as O,u as D,T as R}from"./Typography-AnKalMGu.js";function q(t={}){const{themeId:o,defaultTheme:a,defaultClassName:s="MuiBox-root",generateClassName:e}=t,r=N("div",{shouldForwardProp:n=>n!=="theme"&&n!=="sx"&&n!=="as"})(S);return f.forwardRef(function(i,c){const u=T(a),{className:p,component:h="div",...m}=O(i);return d.jsx(r,{as:h,ref:c,className:C(p,e?e(s):s),theme:o&&u[o]||u,...m})})}function A(t){return x("MuiPaper",t)}g("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const z=t=>{const{square:o,elevation:a,variant:s,classes:e}=t,r={root:["root",s,!o&&"rounded",s==="elevation"&&`elevation${a}`]};return w(r,A,e)},F=y("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:a}=t;return[o.root,o[a.variant],!a.square&&o.rounded,a.variant==="elevation"&&o[`elevation${a.elevation}`]]}})(I(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:o})=>!o.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),G=f.forwardRef(function(o,a){var m;const s=M({props:o,name:"MuiPaper"}),e=D(),{className:r,component:l="div",elevation:n=1,square:i=!1,variant:c="elevation",...u}=s,p={...s,component:l,elevation:n,square:i,variant:c},h=z(p);return d.jsx(F,{as:l,ownerState:p,className:C(h.root,r),ref:a,...u,style:{...c==="elevation"&&{"--Paper-shadow":(e.vars||e).shadows[n],...e.vars&&{"--Paper-overlay":(m=e.vars.overlays)==null?void 0:m[n]},...!e.vars&&e.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${P("#fff",b(n))}, ${P("#fff",b(n))})`}},...u.style}})}),L=g("MuiBox",["root"]),_=$(),j=q({themeId:U,defaultTheme:_,defaultClassName:L.root,generateClassName:k.generate});function H(t){return x("MuiCard",t)}g("MuiCard",["root"]);const W=t=>{const{classes:o}=t;return w({root:["root"]},H,o)},X=y(G,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),J=f.forwardRef(function(o,a){const s=M({props:o,name:"MuiCard"}),{className:e,raised:r=!1,...l}=s,n={...s,raised:r},i=W(n);return d.jsx(X,{className:C(i.root,e),elevation:r?8:void 0,ref:a,ownerState:n,...l})});function K(t){return x("MuiCardContent",t)}g("MuiCardContent",["root"]);const Q=t=>{const{classes:o}=t;return w({root:["root"]},K,o)},V=y("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Y=f.forwardRef(function(o,a){const s=M({props:o,name:"MuiCardContent"}),{className:e,component:r="div",...l}=s,n={...s,component:r},i=Q(n);return d.jsx(V,{as:r,className:C(i.root,e),ownerState:n,ref:a,...l})});function Z(t){return x("MuiCardMedia",t)}g("MuiCardMedia",["root","media","img"]);const ee=t=>{const{classes:o,isMediaComponent:a,isImageComponent:s}=t;return w({root:["root",a&&"media",s&&"img"]},Z,o)},te=y("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:a}=t,{isMediaComponent:s,isImageComponent:e}=a;return[o.root,s&&o.media,e&&o.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),oe=["video","audio","picture","iframe","img"],ae=["picture","img"],se=f.forwardRef(function(o,a){const s=M({props:o,name:"MuiCardMedia"}),{children:e,className:r,component:l="div",image:n,src:i,style:c,...u}=s,p=oe.includes(l),h=!p&&n?{backgroundImage:`url("${n}")`,...c}:c,m={...s,component:l,isMediaComponent:p,isImageComponent:ae.includes(l)},v=ee(m);return d.jsx(te,{className:C(v.root,r),as:l,role:!p&&n?"img":void 0,ref:a,style:h,ownerState:m,src:p?n||i:void 0,...u,children:e})});async function ne(t=1609669300,o=1609669316){const a=[];for(let e=t;e<=o;e++){const r=`https://services.err.ee/api/v2/radioAppContent/getContentPageData?contentId=${e}`;a.push(fetch(r).then(l=>l.json()).catch(()=>null))}return(await Promise.all(a)).map(e=>{var r;return(r=e==null?void 0:e.data)==null?void 0:r.mainContent}).filter(Boolean).map(e=>{var l,n,i,c,u,p;const r=(l=e.medias)!=null&&l.length?e.medias:(i=(n=e.clips)==null?void 0:n[0])==null?void 0:i.medias;return r!=null&&r.length?{id:e.id,heading:e.heading,lead:e.lead,photos:e.photos,audioUrl:(c=r[0])==null?void 0:c.podcastUrl,duration:((u=r[0])==null?void 0:u.duration)||240,createdTime:(p=e.formatedTimes)==null?void 0:p.created}:null}).filter(Boolean)}const re=({id:t,heading:o,photos:a})=>{var s;return d.jsx(E,{to:`/player/${t}`,style:{textDecoration:"none"},children:d.jsxs(J,{sx:{height:{xs:300,sm:336},display:"flex",flexDirection:"column"},style:{height:"21rem",textDecoration:"none"},children:[d.jsx(se,{sx:{width:"100%",height:160,objectFit:"cover"},component:"img",src:(s=a==null?void 0:a[0])==null?void 0:s.photoUrlOriginal,alt:o,width:"200"}),d.jsx(Y,{sx:{flexGrow:1},style:{padding:"1rem"},children:d.jsx(R,{fontSize:{xs:"1rem",sm:"1.25rem"},variant:"h5",align:"center",children:o})})]})})};function de({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const ue=B(function(){const[o,a]=f.useState([]),[s,e]=f.useState(!0);if(f.useEffect(()=>{ne().then(i=>{a(i),e(!1)}).catch(i=>{console.error("Error fetching content:",i),e(!1)})},[]),s)return d.jsx("div",{children:"Loading..."});const l=(i=>{var u,p,h,m;const c={Päevakajaline:[],Meelelahutus:[],Muu:[]};for(const v of i)(u=v.heading)!=null&&u.includes("päev")||(p=v.heading)!=null&&p.includes("aktuaalne")?c.Päevakajaline.push(v):(h=v.heading)!=null&&h.includes("meelelahutus")||(m=v.heading)!=null&&m.includes("huumor")?c.Meelelahutus.push(v):c.Muu.push(v);return c})(o),n=Object.values(l).some(i=>i.length>0);return d.jsx("div",{children:n?Object.entries(l).map(([i,c])=>c.length>0&&d.jsxs(j,{mb:6,sx:{xs:1,sm:2},children:[d.jsx(R,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:i}),d.jsx(j,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,scrollSnapType:"x mandatory"},display:"flex",overflow:"auto",gap:2,pb:1,children:c.map(u=>d.jsx(j,{sx:{flex:"0 0 auto",width:{xs:200,sm:240},scrollSnapAlign:"start"},flex:"0 0 auto",width:240,children:d.jsx(re,{...u})},u.id))})]},i)):d.jsx(R,{variant:"h6",align:"center",mt:5,children:"Currently not available, sorry for the inconvenience."})})});export{ue as default,de as meta};
